<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscrição de Candidato</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">Inscrever Novo Candidato</h1>
    {% if error_message %}
    <div class="alert alert-danger" role="alert">
        {{ error_message }}
    </div>
    {% endif %}
    <form action="/app/candidato/create" method="post">
        <div class="mb-3">
            <label for="nome" class="form-label">Nome</label>
            <input type="text" class="form-control" id="nome" name="nome" required value="{{ candidato.nome if candidato.nome is defined else '' }}">
        </div>
        <div class="mb-3">
            <label for="cpf" class="form-label">CPF</label>
            {% if candidato.id is defined and candidato.id %}
            <input type="text" class="form-control" id="cpf" name="cpf" value="{{ candidato.cpf }}" readonly>
            <div class="form-text text-info">O CPF não pode ser alterado. Apenas visualização.</div>
            {% else %}
            <input type="text" class="form-control" id="cpf" name="cpf" required maxlength="14" placeholder="000.000.000-00" value="{{ candidato.cpf if candidato.cpf is defined else '' }}">
            {% endif %}
        </div>
        <div class="mb-3">
            <label for="data_nascimento" class="form-label">Data de Nascimento</label>
            <input type="date" class="form-control" id="data_nascimento" name="data_nascimento" value="{{ candidato.data_nascimento if candidato.data_nascimento is defined else '' }}">
        </div>
        <div class="mb-3">
            <label for="categoria" class="form-label">Categoria</label>
            <select class="form-select" id="categoria" name="categoria" required>
                <option value="AC" {% if candidato.categoria == 'AC' %}selected{% endif %}>Ampla Concorrência</option>
                <option value="PPI BR" {% if candidato.categoria == 'PPI BR' %}selected{% endif %}>PPI + Escola Pública (BR)</option>
                <option value="Pública BR" {% if candidato.categoria == 'Pública BR' %}selected{% endif %}>Escola Pública (BR)</option>
                <option value="PPI Pública" {% if candidato.categoria == 'PPI Pública' %}selected{% endif %}>PPI + Escola Pública</option>
                <option value="Pública" {% if candidato.categoria == 'Pública' %}selected{% endif %}>Escola Pública</option>
                <option value="Deficientes" {% if candidato.categoria == 'Deficientes' %}selected{% endif %}>Pessoa com Deficiência</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="edicao_curso_id" class="form-label">Curso</label>
            <select class="form-select" id="edicao_curso_id" name="edicao_curso_id" required>
                {% for edicao_curso in edicao_cursos %}
                    <option value="{{ edicao_curso.id }}" {% if candidato.edicao_curso_id == edicao_curso.id %}selected{% endif %}>{{ edicao_curso.curso.nome }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="nota" class="form-label">Nota</label>
            <input type="number" step="0.01" class="form-control" id="nota" name="nota" value="{{ candidato.nota if candidato.nota is defined else '' }}">
        </div>
        <button type="submit" class="btn btn-primary">{% if candidato.id is defined and candidato.id %}Salvar{% else %}Inscrever{% endif %}</button>
        <a href="/app/candidato/index" class="btn btn-secondary ms-2">Voltar</a>
    </form>
</div>
</body>
</html>
